# Clause-to-Control Matrix

Evidence output root:
- `GovConMoney.Tests/Runner/AuditBinderOutput/<timestamp_guid>/`
- Generated by test case: `Generate auditor binder evidence package` in `GovConMoney.Tests/Program.cs`

| DFARS Clause | Status | Control | Code Reference | Test Case | Evidence Output |
|---|---|---|---|---|---|
| (1) A sound internal control environment, accounting framework, and organizational structure | Partial | Multi-tenant controls, role/policy auth, append-only audit, manager review workflow, GL foundation | `GovConMoney.Infrastructure/Persistence/GovConMoneyDbContext.cs`, `GovConMoney.Web/Program.cs`, `GovConMoney.Domain/Entities/ChartOfAccount.cs` | `Tenant isolation blocks cross-tenant access`; `Audit events are append-only`; `Period close requires manager role` | `audit_trail.csv`, `manager_review_events.csv`, `trial_balance.csv` |
| (2) Proper segregation of direct costs from indirect costs | Complete | Line-level `CostType` tagging and accounting category handling for expenses | `GovConMoney.Domain/Enums/DomainEnums.cs`, `GovConMoney.Application/Services/TimesheetService.cs` | `Indirect rates compute apply rerate and post to GL`; `Billing generation excludes unallowable costs` | `labor_distribution.csv`, `project_summary.csv`, `invoice_lines.csv` |
| (3) Identification and accumulation of direct costs by contract | Complete | Contract hierarchy mapping on time/expense postings and reporting rollups by contract | `GovConMoney.Application/Services/ReportingService.cs`, `GovConMoney.Application/Services/AccountingService.cs` | `CLIN summary rollup ties to posted labor`; `Subledger to GL reconciliation detects variance` | `project_summary.csv`, `clin_summary.csv`, `general_journal.csv` |
| (4) Logical and consistent accumulation/allocation of indirect costs | Complete | Indirect pool/base configuration, rate compute/apply/rerate, final-rate approval lifecycle | `GovConMoney.Application/Services/IndirectRateService.cs`, `GovConMoney.Domain/Entities/AllocationBase.cs` | `Indirect rates compute apply rerate and post to GL`; `Indirect base method direct labor hours drives rate and burden`; `Final indirect rates require manager approval before apply` | `indirect_rate_support.csv`, `applied_burden_summary.csv`, `manager_review_events.csv` |
| (5) Accumulation of costs under general ledger control | Complete | Double-entry journal framework and controlled posting workflows | `GovConMoney.Domain/Entities/JournalEntry.cs`, `GovConMoney.Domain/Entities/JournalLine.cs`, `GovConMoney.Application/Services/AccountingService.cs` | `Posted journal entries are immutable except reversal`; `Subledger to GL reconciliation detects variance` | `general_journal.csv`, `trial_balance.csv` |
| (6) Reconciliation of subsidiary ledgers/cost objectives to general ledger | Complete | Tie-out reconciliation service for labor, expenses, and burden to GL | `GovConMoney.Application/Services/CloseService.cs` | `Subledger to GL reconciliation detects variance`; `Billed-to-booked reconciliation ties to GL` | `subledger_gl_tieout.csv`, `billed_to_booked_reconciliation.csv` |
| (7) Approval and documentation of adjusting entries | Complete | Maker-checker approving/posting pipeline with required reason and attachment refs; reversal linking | `GovConMoney.Application/Services/JournalEntryWorkflowService.cs` | `Adjusting JE maker-checker enforced`; `Posted adjusting JE immutable except reversal`; `Adjusting JE reversal links and balances` | `adjusting_je_packet.csv`, `audit_trail.csv` |
| (8) Management reviews/internal audits of system compliance | Partial | Manager review controls for close/indirect/billing/adjusting; audit-search and binder artifacts | `GovConMoney.Application/Services/CloseService.cs`, `GovConMoney.Application/Services/IndirectRateService.cs`, `GovConMoney.Application/Services/BillingService.cs` | `Period close requires manager role`; `Final indirect rates require manager approval before apply`; `Billing threshold routes approval to manager for high-value runs` | `manager_review_events.csv`, `audit_trail.csv` |
| (9) Timekeeping identifies employee labor by cost objectives | Complete | Timesheet lines require objective (`ChargeCodeId`) and `CostType`; assignment/date checks enforce valid charging | `GovConMoney.Application/Services/TimesheetService.cs`, `GovConMoney.Application/Services/TimecardValidationEngine.cs` | `Non-assigned charge code rejected`; `Out-of-window charging needs supervisor approval`; `Daily entry grace policy blocks late bulk entry on submit` | `timesheets_packet.csv`, `timesheet_compliance.csv`, `audit_trail.csv` |
| (10) Labor distribution charges direct/indirect labor to appropriate objectives | Complete | Labor distribution and posting by objective/cost type with reconciliation | `GovConMoney.Application/Services/ReportingService.cs`, `GovConMoney.Application/Services/AccountingService.cs` | `CLIN summary rollup ties to posted labor`; `Subledger to GL reconciliation detects variance` | `labor_distribution.csv`, `clin_summary.csv`, `subledger_gl_tieout.csv` |
| (11) Interim monthly determination via routine posting | Complete | Monthly compliance report + daily hosted overdue checker + period-close controls | `GovConMoney.Application/Services/MonthlyCloseComplianceService.cs`, `GovConMoney.Web/Services/MonthlyCloseComplianceHostedService.cs` | `Monthly close compliance flags overdue open periods`; `Period close requires manager role` | `audit_trail.csv`, `manager_review_events.csv` |
| (12) Exclusion of FAR Part 31 unallowables from Government contract costs | Complete | Unallowables retained for audit but excluded from billings and billing reconciliations | `GovConMoney.Application/Services/BillingService.cs`, `GovConMoney.Application/Services/TimesheetService.cs` | `Billing generation excludes unallowable costs` | `invoices.csv`, `invoice_lines.csv`, `billed_to_booked_reconciliation.csv` |
| (13) Identify costs by contract line item and units when required | Complete | Contract -> TaskOrder -> CLIN -> WBS -> ChargeCode model and CLIN rollups with CLIN-required validation | `GovConMoney.Domain/Entities/TaskOrder.cs`, `GovConMoney.Domain/Entities/Clin.cs`, `GovConMoney.Application/Services/ReportingService.cs`, `GovConMoney.Application/Services/TimecardValidationEngine.cs` | `CLIN summary rollup ties to posted labor`; `CLIN-tracked contract blocks unmapped charge codes` | `clin_summary.csv`, `project_summary.csv` |
| (14) Segregation of preproduction costs from production costs | Absent | No explicit preproduction vs production classification model or workflow | `N/A` | `N/A` | `N/A` |
| (15) Cost accounting information for limitation clauses and indirect-rate computation from books | Partial | Indirect rates computed from posted books; funded/ceiling billing limits exist; full FAR 52.232-20/22 contract-clause workflow not explicit | `GovConMoney.Application/Services/IndirectRateService.cs`, `GovConMoney.Application/Services/BillingService.cs` | `Indirect rates compute apply rerate and post to GL`; `Billing ceiling enforcement blocks overbilling` | `indirect_rate_support.csv`, `invoices.csv`, `billed_to_booked_reconciliation.csv` |
| (16) Billings reconciled to cost accounts (current/cumulative) and contract terms | Complete | Billing run, ceiling enforcement, billed-to-booked tie-out, and unallowable exclusions | `GovConMoney.Application/Services/BillingService.cs` | `Billing generation excludes unallowable costs`; `Billing ceiling enforcement blocks overbilling`; `Billed-to-booked reconciliation ties to GL` | `invoices.csv`, `invoice_lines.csv`, `billed_cost_links.csv`, `billed_to_booked_reconciliation.csv` |
| (17) Adequate, reliable data for pricing follow-on acquisitions | Partial | Historical auditable labor/cost data and payroll import/reconciliation exist; dedicated proposal/pricing module not implemented | `GovConMoney.Application/Services/ReportingService.cs`, `GovConMoney.Application/Services/PayrollService.cs` | `Payroll import reconciles to posted labor`; `Generate auditor binder evidence package` | `labor_distribution.csv`, `project_summary.csv`, `audit_trail.csv` |
| (18) CAS-compliant (if applicable) or GAAP-compliant accounting practices | Partial | GAAP-aligned double-entry ledger and trial balance controls implemented; explicit CAS mapping/rules engine not implemented | `GovConMoney.Domain/Entities/JournalEntry.cs`, `GovConMoney.Domain/Entities/JournalLine.cs`, `GovConMoney.Application/Services/CloseService.cs` | `Subledger to GL reconciliation detects variance`; `Posted journal entries are immutable except reversal` | `trial_balance.csv`, `general_journal.csv`, `audit_trail.csv` |
